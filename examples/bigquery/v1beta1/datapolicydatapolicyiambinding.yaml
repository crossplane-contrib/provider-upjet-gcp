apiVersion: bigquery.gcp.upbound.io/v1beta1
kind: DatapolicyDataPolicyIAMBinding
metadata:
  annotations:
    meta.upbound.io/example-id: bigquery/v1beta1/datapolicydatapolicyiambinding
    upjet.upbound.io/manual-intervention: "Member refers to an existing user account"
  labels:
    testing.upbound.io/example-name: policy
  name: policy
spec:
  forProvider:
    location: eu
    role: roles/bigquerydatapolicy.maskedReader
    members:
    - user:jane@example.com
    dataPolicyIdSelector:
      matchLabels:
        testing.upbound.io/example-name: data_policy

---
apiVersion: bigquery.gcp.upbound.io/v1beta1
kind: DatapolicyDataPolicy
metadata:
  annotations:
    meta.upbound.io/example-id: bigquery/v1beta1/datapolicydatapolicy
  labels:
    testing.upbound.io/example-name: data_policy
  name: basicdatapolicy
spec:
  forProvider:
    dataPolicyType: DATA_MASKING_POLICY
    dataMaskingPolicy:
      predefinedExpression: ALWAYS_NULL
    location: eu
    policyTagSelector:
      matchLabels:
        testing.upbound.io/example-name: basic_policy_tag

---

apiVersion: datacatalog.gcp.upbound.io/v1beta1
kind: PolicyTag
metadata:
  annotations:
    meta.upbound.io/example-id: bigquery/v1beta1/datapolicydatapolicy
  labels:
    testing.upbound.io/example-name: basic_policy_tag
  name: basic-policy-tag
spec:
  forProvider:
    description: A policy tag normally associated with low security items
    displayName: Low security
    taxonomySelector:
      matchLabels:
        testing.upbound.io/example-name: my_taxonomy

---

apiVersion: datacatalog.gcp.upbound.io/v1beta1
kind: Taxonomy
metadata:
  annotations:
    meta.upbound.io/example-id: bigquery/v1beta1/datapolicydatapolicy
  labels:
    testing.upbound.io/example-name: my_taxonomy
  name: my-taxonomy
spec:
  forProvider:
    region: eu
    activatedPolicyTypes:
    - FINE_GRAINED_ACCESS_CONTROL
    description: A collection of policy tags
    displayName: taxonomy_display_name

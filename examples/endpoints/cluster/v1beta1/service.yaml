# SPDX-FileCopyrightText: 2024 The Crossplane Authors <https://crossplane.io>
#
# SPDX-License-Identifier: CC0-1.0

apiVersion: endpoints.gcp.upbound.io/v1beta1
kind: Service
metadata:
  annotations:
    meta.upbound.io/example-id: endpoints/v1beta1/service
    upjet.upbound.io/manual-intervention: "Must be owner of the domain name used in serviceName"
  labels:
    testing.upbound.io/example-name: openapi-service
  name: openapi-service
spec:
  forProvider:
    serviceName: api-name.endpoints.project-id.cloud.goog
    openapiConfigSecretRef:
      key: openapi_spec.yml
      name: openapi-service
      namespace: upbound-system

---

apiVersion: v1
kind: Secret
metadata:
  annotations:
    meta.upbound.io/example-id: endpoints/v1beta1/service
    upjet.upbound.io/manual-intervention: "Must be owner of the domain name used in serviceName"
  labels:
    testing.upbound.io/example-name: openapi-service
  name: openapi-service
  namespace: upbound-system
data:
  # https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v2.0/yaml/petstore.yaml
  openapi_spec.yml: c3dhZ2dlcjogIjIuMCIKaW5mbzoKICB2ZXJzaW9uOiAxLjAuMAogIHRpdGxlOiBTd2FnZ2VyIFBldHN0b3JlCiAgbGljZW5zZToKICAgIG5hbWU6IE1JVApob3N0OiBwZXRzdG9yZS5zd2FnZ2VyLmlvCmJhc2VQYXRoOiAvdjEKc2NoZW1lczoKICAtIGh0dHAKY29uc3VtZXM6CiAgLSBhcHBsaWNhdGlvbi9qc29uCnByb2R1Y2VzOgogIC0gYXBwbGljYXRpb24vanNvbgpwYXRoczoKICAvcGV0czoKICAgIGdldDoKICAgICAgc3VtbWFyeTogTGlzdCBhbGwgcGV0cwogICAgICBvcGVyYXRpb25JZDogbGlzdFBldHMKICAgICAgdGFnczoKICAgICAgICAtIHBldHMKICAgICAgcGFyYW1ldGVyczoKICAgICAgICAtIG5hbWU6IGxpbWl0CiAgICAgICAgICBpbjogcXVlcnkKICAgICAgICAgIGRlc2NyaXB0aW9uOiBIb3cgbWFueSBpdGVtcyB0byByZXR1cm4gYXQgb25lIHRpbWUgKG1heCAxMDApCiAgICAgICAgICByZXF1aXJlZDogZmFsc2UKICAgICAgICAgIHR5cGU6IGludGVnZXIKICAgICAgICAgIGZvcm1hdDogaW50MzIKICAgICAgcmVzcG9uc2VzOgogICAgICAgICIyMDAiOgogICAgICAgICAgZGVzY3JpcHRpb246IEEgcGFnZWQgYXJyYXkgb2YgcGV0cwogICAgICAgICAgaGVhZGVyczoKICAgICAgICAgICAgeC1uZXh0OgogICAgICAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBBIGxpbmsgdG8gdGhlIG5leHQgcGFnZSBvZiByZXNwb25zZXMKICAgICAgICAgIHNjaGVtYToKICAgICAgICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvUGV0cycKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgZGVzY3JpcHRpb246IHVuZXhwZWN0ZWQgZXJyb3IKICAgICAgICAgIHNjaGVtYToKICAgICAgICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvRXJyb3InCiAgICBwb3N0OgogICAgICBzdW1tYXJ5OiBDcmVhdGUgYSBwZXQKICAgICAgb3BlcmF0aW9uSWQ6IGNyZWF0ZVBldHMKICAgICAgdGFnczoKICAgICAgICAtIHBldHMKICAgICAgcmVzcG9uc2VzOgogICAgICAgICIyMDEiOgogICAgICAgICAgZGVzY3JpcHRpb246IE51bGwgcmVzcG9uc2UKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgZGVzY3JpcHRpb246IHVuZXhwZWN0ZWQgZXJyb3IKICAgICAgICAgIHNjaGVtYToKICAgICAgICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvRXJyb3InCiAgL3BldHMve3BldElkfToKICAgIGdldDoKICAgICAgc3VtbWFyeTogSW5mbyBmb3IgYSBzcGVjaWZpYyBwZXQKICAgICAgb3BlcmF0aW9uSWQ6IHNob3dQZXRCeUlkCiAgICAgIHRhZ3M6CiAgICAgICAgLSBwZXRzCiAgICAgIHBhcmFtZXRlcnM6CiAgICAgICAgLSBuYW1lOiBwZXRJZAogICAgICAgICAgaW46IHBhdGgKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgICBkZXNjcmlwdGlvbjogVGhlIGlkIG9mIHRoZSBwZXQgdG8gcmV0cmlldmUKICAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICByZXNwb25zZXM6CiAgICAgICAgIjIwMCI6CiAgICAgICAgICBkZXNjcmlwdGlvbjogRXhwZWN0ZWQgcmVzcG9uc2UgdG8gYSB2YWxpZCByZXF1ZXN0CiAgICAgICAgICBzY2hlbWE6CiAgICAgICAgICAgICRyZWY6ICcjL2RlZmluaXRpb25zL1BldHMnCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGRlc2NyaXB0aW9uOiB1bmV4cGVjdGVkIGVycm9yCiAgICAgICAgICBzY2hlbWE6CiAgICAgICAgICAgICRyZWY6ICcjL2RlZmluaXRpb25zL0Vycm9yJwpkZWZpbml0aW9uczoKICBQZXQ6CiAgICB0eXBlOiAib2JqZWN0IgogICAgcmVxdWlyZWQ6CiAgICAgIC0gaWQKICAgICAgLSBuYW1lCiAgICBwcm9wZXJ0aWVzOgogICAgICBpZDoKICAgICAgICB0eXBlOiBpbnRlZ2VyCiAgICAgICAgZm9ybWF0OiBpbnQ2NAogICAgICBuYW1lOgogICAgICAgIHR5cGU6IHN0cmluZwogICAgICB0YWc6CiAgICAgICAgdHlwZTogc3RyaW5nCiAgUGV0czoKICAgIHR5cGU6IGFycmF5CiAgICBpdGVtczoKICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvUGV0JwogIEVycm9yOgogICAgdHlwZTogIm9iamVjdCIKICAgIHJlcXVpcmVkOgogICAgICAtIGNvZGUKICAgICAgLSBtZXNzYWdlCiAgICBwcm9wZXJ0aWVzOgogICAgICBjb2RlOgogICAgICAgIHR5cGU6IGludGVnZXIKICAgICAgICBmb3JtYXQ6IGludDMyCiAgICAgIG1lc3NhZ2U6CiAgICAgICAgdHlwZTogc3RyaW5nCg==
